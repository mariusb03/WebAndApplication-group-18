{"ast":null,"code":"import React from'react';import'./CourseModal.css';import{useCart}from'../../context/CartContext';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CourseModal=_ref=>{let{course,onClose}=_ref;const{addToCart,cartItems}=useCart();const navigate=useNavigate();const storedUser=JSON.parse(localStorage.getItem('user'));const userRole=(storedUser===null||storedUser===void 0?void 0:storedUser.role)||null;if(!course)return null;const isInCart=cartItems.some(item=>item.courseId===course.courseId);const handleAddToCart=()=>{if(!storedUser){navigate('/login');return;}addToCart(course);onClose();};return/*#__PURE__*/_jsx(\"div\",{className:\"course-modal-overlay\",onClick:onClose,children:/*#__PURE__*/_jsxs(\"div\",{className:\"course-modal-content\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsx(\"button\",{className:\"close-button\",onClick:onClose,children:\"\\xD7\"}),/*#__PURE__*/_jsx(\"img\",{src:\"/img/\".concat(course.courseId,\".svg\"),alt:\"Course \".concat(course.title),onError:e=>{e.target.src='/static/img/default.svg';}}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-details\",children:[/*#__PURE__*/_jsx(\"h2\",{children:course.title}),/*#__PURE__*/_jsx(\"p\",{children:course.description||'No description provided yet.'}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Price:\"}),\" \",course.price]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Difficulty:\"}),\" \",course.difficulty]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Topic:\"}),\" \",course.category]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Session:\"}),\" \",course.session]}),userRole==='admin'&&/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Course ID:\"}),\" \",course.courseId]}),!isInCart&&/*#__PURE__*/_jsx(\"button\",{className:\"add-to-cart-button\",onClick:handleAddToCart,children:\"Add to Cart\"})]})]})});};export default CourseModal;","map":{"version":3,"names":["React","useCart","useNavigate","jsx","_jsx","jsxs","_jsxs","CourseModal","_ref","course","onClose","addToCart","cartItems","navigate","storedUser","JSON","parse","localStorage","getItem","userRole","role","isInCart","some","item","courseId","handleAddToCart","className","onClick","children","e","stopPropagation","src","concat","alt","title","onError","target","description","price","difficulty","category","session"],"sources":["/Users/mariusbr/Documents/Data ingeniør/4. Semester/AppDev&WebTech/gruppe oppgave/WebAndApplication-group-18/src/components/courseModal/CourseModal.jsx"],"sourcesContent":["import React from 'react';\nimport './CourseModal.css';\nimport { useCart } from '../../context/CartContext';\nimport { useNavigate } from 'react-router-dom';\n\nconst CourseModal = ({ course, onClose }) => {\n    const { addToCart, cartItems } = useCart();\n    const navigate = useNavigate();\n\n    const storedUser = JSON.parse(localStorage.getItem('user'));\n    const userRole = storedUser?.role || null;\n\n    if (!course) return null;\n\n    const isInCart = cartItems.some(item => item.courseId === course.courseId);\n\n    const handleAddToCart = () => {\n        if (!storedUser) {\n            navigate('/login');\n            return;\n        }\n\n        addToCart(course);\n        onClose();\n    };\n\n    return (\n        <div className=\"course-modal-overlay\" onClick={onClose}>\n            <div className=\"course-modal-content\" onClick={(e) => e.stopPropagation()}>\n                <button className=\"close-button\" onClick={onClose}>×</button>\n                <img\n                    src={`/img/${course.courseId}.svg`}\n                    alt={`Course ${course.title}`}\n                    onError={(e) => { e.target.src = '/static/img/default.svg'; }}\n                />\n\n                <div className=\"modal-details\">\n                    <h2>{course.title}</h2>\n                    <p>{course.description || 'No description provided yet.'}</p>\n\n                    <p><strong>Price:</strong> {course.price}</p>\n                    <p><strong>Difficulty:</strong> {course.difficulty}</p>\n                    <p><strong>Topic:</strong> {course.category}</p>\n                    <p><strong>Session:</strong> {course.session}</p>\n\n                    {/* Only show ID to admins */}\n                    {userRole === 'admin' && (\n                        <p><strong>Course ID:</strong> {course.courseId}</p>\n                    )}\n\n                    {!isInCart && (\n                        <button className=\"add-to-cart-button\" onClick={handleAddToCart}>\n                            Add to Cart\n                        </button>\n                    )}\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default CourseModal;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}