{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import{Link,useNavigate}from\"react-router-dom\";import{useCart}from'../../context/CartContext';import Login from'../../assets/logos/profilePic.svg';import Cart from'../../assets/logos/cartLogo.svg';import Logo from'../../assets/logos/homeLogo.svg';import SearchIcon from'../../assets/logos/search symbol.png';import'./TopPartStyle.css';import'react-refresh/runtime';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const courseSuggestions=['Web Development','AI & Machine Learning','Cloud & DevOps','Digital Marketing','Business Analytics','Cybersecurity','UI/UX Design','Python Programming','Data Science'];function TopPartOfPage(){const[searchQuery,setSearchQuery]=useState('');const[filteredSuggestions,setFilteredSuggestions]=useState([]);const[isSearchFocused,setIsSearchFocused]=useState(false);const navigate=useNavigate();const{cartItems}=useCart();const searchRef=useRef();const searchPopupRef=useRef();useEffect(()=>{function handleClickOutside(event){if(searchPopupRef.current&&!searchPopupRef.current.contains(event.target)){setIsSearchFocused(false);setSearchQuery('');}}document.addEventListener('mousedown',handleClickOutside);return()=>document.removeEventListener('mousedown',handleClickOutside);},[]);useEffect(()=>{if(searchQuery.trim()===''){setFilteredSuggestions(courseSuggestions);}else{const filtered=courseSuggestions.filter(course=>course.toLowerCase().includes(searchQuery.toLowerCase()));setFilteredSuggestions(filtered);}},[searchQuery]);const handleSuggestionClick=text=>{setSearchQuery('');setIsSearchFocused(false);navigate(\"/courses?search=\".concat(encodeURIComponent(text)));};const handleEnterPress=e=>{if(e.key==='Enter'&&searchQuery.trim()!==''){navigate(\"/courses?search=\".concat(encodeURIComponent(searchQuery.trim())));setSearchQuery('');setIsSearchFocused(false);}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"topPartBox \".concat(isSearchFocused?'blurred':''),children:[/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"homeLogoButton\",children:/*#__PURE__*/_jsx(\"img\",{src:Logo,className:\"homeLogo\",alt:\"logo\"})}),/*#__PURE__*/_jsxs(\"div\",{id:\"LoginAndCartButtons\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"cartLoginBt\",children:/*#__PURE__*/_jsx(\"button\",{className:\"searchIconButton\",onClick:()=>setIsSearchFocused(prev=>!prev),children:/*#__PURE__*/_jsx(\"img\",{src:SearchIcon,alt:\"search\",className:\"searchIconImage\"})})}),/*#__PURE__*/_jsx(Link,{to:\"/cart\",className:\"cartLoginBt cart-icon-wrapper\",children:/*#__PURE__*/_jsxs(\"button\",{children:[/*#__PURE__*/_jsx(\"img\",{src:Cart,alt:\"cart\"}),cartItems.length>0&&/*#__PURE__*/_jsx(\"span\",{className:\"cart-badge\",children:cartItems.length})]})}),/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"cartLoginBt\",children:/*#__PURE__*/_jsx(\"button\",{children:/*#__PURE__*/_jsx(\"img\",{src:Login,alt:\"login\"})})})]})]}),isSearchFocused&&/*#__PURE__*/_jsx(\"div\",{className:\"overlay-blur\",ref:searchRef,children:/*#__PURE__*/_jsxs(\"div\",{className:\"search-popup\",ref:searchPopupRef,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search for courses\",value:searchQuery,onChange:e=>setSearchQuery(e.target.value),onKeyDown:handleEnterPress,autoFocus:true,style:{width:'100%',padding:'0.75rem',fontSize:'1rem',borderRadius:'25px',border:'1px solid #ccc',marginBottom:'1rem'}}),filteredSuggestions.length>0&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{style:{fontWeight:'bold'},children:\"Suggestions:\"}),/*#__PURE__*/_jsx(\"ul\",{style:{listStyle:'none',padding:0},children:filteredSuggestions.map((suggestion,index)=>/*#__PURE__*/_jsx(\"li\",{onClick:()=>handleSuggestionClick(suggestion),style:{padding:'0.5rem',borderRadius:'6px',cursor:'pointer'},onMouseEnter:e=>e.currentTarget.style.backgroundColor='#ffe600',onMouseLeave:e=>e.currentTarget.style.backgroundColor='transparent',children:suggestion},index))})]})]})})]});}export default TopPartOfPage;","map":{"version":3,"names":["React","useState","useEffect","useRef","Link","useNavigate","useCart","Login","Cart","Logo","SearchIcon","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","courseSuggestions","TopPartOfPage","searchQuery","setSearchQuery","filteredSuggestions","setFilteredSuggestions","isSearchFocused","setIsSearchFocused","navigate","cartItems","searchRef","searchPopupRef","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","trim","filtered","filter","course","toLowerCase","includes","handleSuggestionClick","text","concat","encodeURIComponent","handleEnterPress","e","key","children","className","to","src","alt","id","onClick","prev","length","ref","type","placeholder","value","onChange","onKeyDown","autoFocus","style","width","padding","fontSize","borderRadius","border","marginBottom","fontWeight","listStyle","map","suggestion","index","cursor","onMouseEnter","currentTarget","backgroundColor","onMouseLeave"],"sources":["/Users/mariusbr/Library/Mobile Documents/com~apple~CloudDocs/Data ingeniÃ¸r/4. Semester/AppDev&WebTech/gruppe oppgave/WebAndApplication-group-18/src/components/topPartOfPage/TopPartOfPage.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { useCart } from '../../context/CartContext';\nimport Login from '../../assets/logos/profilePic.svg';\nimport Cart from '../../assets/logos/cartLogo.svg';\nimport Logo from '../../assets/logos/homeLogo.svg';\nimport SearchIcon from '../../assets/logos/search symbol.png';\nimport './TopPartStyle.css';\nimport 'react-refresh/runtime';\n\nconst courseSuggestions = [\n    'Web Development',\n    'AI & Machine Learning',\n    'Cloud & DevOps',\n    'Digital Marketing',\n    'Business Analytics',\n    'Cybersecurity',\n    'UI/UX Design',\n    'Python Programming',\n    'Data Science',\n];\n\nfunction TopPartOfPage() {\n    const [searchQuery, setSearchQuery] = useState('');\n    const [filteredSuggestions, setFilteredSuggestions] = useState([]);\n    const [isSearchFocused, setIsSearchFocused] = useState(false);\n\n    const navigate = useNavigate();\n    const { cartItems } = useCart();\n\n    const searchRef = useRef();\n    const searchPopupRef = useRef();\n\n    useEffect(() => {\n        function handleClickOutside(event) {\n            if (\n                searchPopupRef.current &&\n                !searchPopupRef.current.contains(event.target)\n            ) {\n                setIsSearchFocused(false);\n                setSearchQuery('');\n            }\n        }\n\n        document.addEventListener('mousedown', handleClickOutside);\n        return () => document.removeEventListener('mousedown', handleClickOutside);\n    }, []);\n\n    useEffect(() => {\n        if (searchQuery.trim() === '') {\n            setFilteredSuggestions(courseSuggestions);\n        } else {\n            const filtered = courseSuggestions.filter(course =>\n                course.toLowerCase().includes(searchQuery.toLowerCase())\n            );\n            setFilteredSuggestions(filtered);\n        }\n    }, [searchQuery]);\n\n    const handleSuggestionClick = (text) => {\n        setSearchQuery('');\n        setIsSearchFocused(false);\n        navigate(`/courses?search=${encodeURIComponent(text)}`);\n    };\n\n    const handleEnterPress = (e) => {\n        if (e.key === 'Enter' && searchQuery.trim() !== '') {\n            navigate(`/courses?search=${encodeURIComponent(searchQuery.trim())}`);\n            setSearchQuery('');\n            setIsSearchFocused(false);\n        }\n    };\n\n    return (\n        <>\n            <div className={`topPartBox ${isSearchFocused ? 'blurred' : ''}`}>\n                <Link to=\"/\" className=\"homeLogoButton\">\n                    <img src={Logo} className=\"homeLogo\" alt=\"logo\" />\n                </Link>\n\n                <div id=\"LoginAndCartButtons\">\n                    <div className=\"cartLoginBt\">\n                        <button\n                            className=\"searchIconButton\"\n                            onClick={() => setIsSearchFocused(prev => !prev)}\n                        >\n                            <img src={SearchIcon} alt=\"search\" className=\"searchIconImage\" />\n                        </button>\n                    </div>\n\n                    <Link to=\"/cart\" className=\"cartLoginBt cart-icon-wrapper\">\n                        <button>\n                            <img src={Cart} alt=\"cart\" />\n                            {cartItems.length > 0 && (\n                                <span className=\"cart-badge\">{cartItems.length}</span>\n                            )}\n                        </button>\n                    </Link>\n\n                    <Link to=\"/login\" className=\"cartLoginBt\">\n                        <button>\n                            <img src={Login} alt=\"login\" />\n                        </button>\n                    </Link>\n                </div>\n            </div>\n\n            {isSearchFocused && (\n                <div className=\"overlay-blur\" ref={searchRef}>\n                    <div className=\"search-popup\" ref={searchPopupRef}>\n                        <input\n                            type=\"text\"\n                            placeholder=\"Search for courses\"\n                            value={searchQuery}\n                            onChange={(e) => setSearchQuery(e.target.value)}\n                            onKeyDown={handleEnterPress}\n                            autoFocus\n                            style={{\n                                width: '100%',\n                                padding: '0.75rem',\n                                fontSize: '1rem',\n                                borderRadius: '25px',\n                                border: '1px solid #ccc',\n                                marginBottom: '1rem',\n                            }}\n                        />\n                        {filteredSuggestions.length > 0 && (\n                            <div>\n                                <p style={{ fontWeight: 'bold' }}>Suggestions:</p>\n                                <ul style={{ listStyle: 'none', padding: 0 }}>\n                                    {filteredSuggestions.map((suggestion, index) => (\n                                        <li\n                                            key={index}\n                                            onClick={() => handleSuggestionClick(suggestion)}\n                                            style={{\n                                                padding: '0.5rem',\n                                                borderRadius: '6px',\n                                                cursor: 'pointer',\n                                            }}\n                                            onMouseEnter={(e) =>\n                                                (e.currentTarget.style.backgroundColor = '#ffe600')\n                                            }\n                                            onMouseLeave={(e) =>\n                                                (e.currentTarget.style.backgroundColor = 'transparent')\n                                            }\n                                        >\n                                            {suggestion}\n                                        </li>\n                                    ))}\n                                </ul>\n                            </div>\n                        )}\n                    </div>\n                </div>\n            )}\n        </>\n    );\n}\n\nexport default TopPartOfPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}