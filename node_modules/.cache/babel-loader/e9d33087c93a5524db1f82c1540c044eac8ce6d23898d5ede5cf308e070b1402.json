{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useLocation}from'react-router-dom';import CourseModal from'../../components/courseModal/CourseModal';import'./AllCoursesPage.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AllCoursesPage=()=>{const location=useLocation();const params=new URLSearchParams(location.search);const searchParam=params.get('search')||'';const[courses,setCourses]=useState([]);const[searchQuery,setSearchQuery]=useState(searchParam);const[selectedCourse,setSelectedCourse]=useState(null);useEffect(()=>{setSearchQuery(searchParam);},[searchParam]);useEffect(()=>{fetch('http://localhost:8080/api/courses').then(response=>response.json()).then(data=>{setCourses(data);}).catch(error=>{console.error('Error fetching courses:',error);});},[]);const filteredCourses=courses.filter(course=>course.title.toLowerCase().includes(searchQuery.toLowerCase()));return/*#__PURE__*/_jsxs(\"div\",{className:\"courses-page\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"All Courses\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"course-search\",placeholder:\"Search for a course...\",value:searchQuery,onChange:e=>setSearchQuery(e.target.value)}),/*#__PURE__*/_jsx(\"div\",{className:\"course-grid\",children:filteredCourses.length>0?filteredCourses.map((course,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"course-card\",onClick:()=>setSelectedCourse(course),children:[/*#__PURE__*/_jsx(\"img\",{src:\"/static/img/coursPictures/\".concat(course.title.replace(/\\s+/g,''),\".jpg\"),alt:course.title}),/*#__PURE__*/_jsx(\"h3\",{className:\"course-title\",children:course.title}),/*#__PURE__*/_jsx(\"p\",{className:\"course-description\",children:course.description}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Price:\"}),\" \",course.price,\" NOK\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Difficulty:\"}),\" \",course.difficulty]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Topic:\"}),\" \",course.category]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Session:\"}),\" \",course.session]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"ID:\"}),\" \",course.courseId]})]},index)):/*#__PURE__*/_jsx(\"p\",{children:\"No courses found.\"})}),/*#__PURE__*/_jsx(CourseModal,{course:selectedCourse,onClose:()=>setSelectedCourse(null)})]});};export default AllCoursesPage;","map":{"version":3,"names":["React","useState","useEffect","useLocation","CourseModal","jsx","_jsx","jsxs","_jsxs","AllCoursesPage","location","params","URLSearchParams","search","searchParam","get","courses","setCourses","searchQuery","setSearchQuery","selectedCourse","setSelectedCourse","fetch","then","response","json","data","catch","error","console","filteredCourses","filter","course","title","toLowerCase","includes","className","children","type","placeholder","value","onChange","e","target","length","map","index","onClick","src","concat","replace","alt","description","price","difficulty","category","session","courseId","onClose"],"sources":["/Users/mariusbr/Library/Mobile Documents/com~apple~CloudDocs/Data ingeniÃ¸r/4. Semester/AppDev&WebTech/gruppe oppgave/WebAndApplication-group-18/src/pages/AllCoursesPage/AllCoursesPage.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport CourseModal from '../../components/courseModal/CourseModal';\nimport './AllCoursesPage.css';\n\nconst AllCoursesPage = () => {\n    const location = useLocation();\n    const params = new URLSearchParams(location.search);\n    const searchParam = params.get('search') || '';\n\n    const [courses, setCourses] = useState([]);\n    const [searchQuery, setSearchQuery] = useState(searchParam);\n    const [selectedCourse, setSelectedCourse] = useState(null);\n\n    useEffect(() => {\n        setSearchQuery(searchParam);\n    }, [searchParam]);\n\n    useEffect(() => {\n        fetch('http://localhost:8080/api/courses')\n            .then(response => response.json())\n            .then(data => {\n                setCourses(data);\n            })\n            .catch(error => {\n                console.error('Error fetching courses:', error);\n            });\n    }, []);\n\n    const filteredCourses = courses.filter(course =>\n        course.title.toLowerCase().includes(searchQuery.toLowerCase())\n    );\n\n    return (\n        <div className=\"courses-page\">\n            <h1>All Courses</h1>\n\n            <input\n                type=\"text\"\n                className=\"course-search\"\n                placeholder=\"Search for a course...\"\n                value={searchQuery}\n                onChange={(e) => setSearchQuery(e.target.value)}\n            />\n\n            <div className=\"course-grid\">\n                {filteredCourses.length > 0 ? (\n                    filteredCourses.map((course, index) => (\n                        <div\n                            key={index}\n                            className=\"course-card\"\n                            onClick={() => setSelectedCourse(course)}\n                        >\n                            {/* You may want to set course.image dynamically */}\n                            <img src={`/static/img/coursPictures/${course.title.replace(/\\s+/g, '')}.jpg`} alt={course.title} />\n                            <h3 className=\"course-title\">{course.title}</h3>\n                            <p className=\"course-description\">{course.description}</p>\n                            <p><strong>Price:</strong> {course.price} NOK</p>\n                            <p><strong>Difficulty:</strong> {course.difficulty}</p>\n                            <p><strong>Topic:</strong> {course.category}</p>\n                            <p><strong>Session:</strong> {course.session}</p>\n                            <p><strong>ID:</strong> {course.courseId}</p>\n                        </div>\n                    ))\n                ) : (\n                    <p>No courses found.</p>\n                )}\n            </div>\n\n            <CourseModal\n                course={selectedCourse}\n                onClose={() => setSelectedCourse(null)}\n            />\n        </div>\n    );\n};\n\nexport default AllCoursesPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}